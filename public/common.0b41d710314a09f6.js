"use strict";(self.webpackChunkclass3=self.webpackChunkclass3||[]).push([[592],{7556:(T,S,r)=>{r.d(S,{e:()=>A});var c=r(9646),h=r(8505),i=r(4004),u=r(262),I=r(9019),O=r(1223),g=r(520);let A=(()=>{class s{constructor(t){this.http=t,this.STORAGE_TOKEN="token",this.USER_ID="userId",this.NAME="name",this.baseUrl=I.N.baseUrl}login(t,a){return this.http.post(`${this.baseUrl}/auth/`,{email:t,password:a}).pipe((0,h.b)(({ok:e,token:n,uid:E,name:o})=>{e?(localStorage.setItem(this.STORAGE_TOKEN,n),localStorage.setItem(this.USER_ID,E),localStorage.setItem(this.NAME,o)):localStorage.clear()}),(0,i.U)(e=>e.ok),(0,u.K)(e=>(0,c.of)(e.error)))}register(t,a,l,_,e){return this.http.post(`${this.baseUrl}/auth/new`,{name:t,email:a,password:l,rol:_,estado:e}).pipe((0,h.b)(({ok:o,token:M,uid:U})=>{o?(localStorage.setItem(this.STORAGE_TOKEN,M),localStorage.setItem(this.USER_ID,U),localStorage.setItem(this.NAME,t)):localStorage.clear()}),(0,i.U)(o=>o.ok),(0,u.K)(o=>(0,c.of)(o.error)))}isLoggedIn(){try{return!!localStorage.getItem(this.STORAGE_TOKEN)}catch(t){return!1}}}return s.\u0275fac=function(t){return new(t||s)(O.LFG(g.eN))},s.\u0275prov=O.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);