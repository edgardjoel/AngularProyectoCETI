"use strict";(self.webpackChunkclase3g4=self.webpackChunkclase3g4||[]).push([[592],{7556:(S,i,e)=>{e.d(i,{e:()=>v});var u=e(9646),E=e(8505),g=e(4004),I=e(262),h=e(2340),p=e(1223),m=e(520);let v=(()=>{class a{constructor(t){this._http=t}isLoggedIn(){try{return!!localStorage.getItem("token")}catch(t){return!1}}login(t,l){return this._http.post(`${h.N.urlApi}/api/auth`,{email:t,password:l}).pipe((0,E.b)(({ok:r,uid:c,name:_,token:o})=>{r?(localStorage.setItem("token",o),localStorage.setItem("userId",c),localStorage.setItem("name",_)):localStorage.clear()}),(0,g.U)(r=>r.ok),(0,I.K)(r=>(0,u.of)(r.error)))}register(t,l,s,n,r){return this._http.post(`${h.N.urlApi}/api/auth/new`,{name:t,email:l,password:s,rol:n,estado:r}).pipe((0,E.b)(({ok:o,uid:M,name:O,token:P})=>{o?(localStorage.setItem("token",P),localStorage.setItem("userId",M),localStorage.setItem("name",O)):localStorage.clear()}),(0,g.U)(o=>o.ok),(0,I.K)(o=>(0,u.of)(o.error)))}}return a.\u0275fac=function(t){return new(t||a)(p.LFG(m.eN))},a.\u0275prov=p.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);