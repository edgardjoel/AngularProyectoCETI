"use strict";(self.webpackChunkfinal_project_angular=self.webpackChunkfinal_project_angular||[]).push([[592],{7556:(D,c,t)=>{t.d(c,{e:()=>I});var l=t(9646),u=t(9019),_=t(8505),n=t(4004),o=t(262),E=t(1223),h=t(520);let I=(()=>{class s{constructor(r){this._http=r,this.baseUrl=u.N.baseUrl,this.STORAGE_TOKEN="token",this.USER_ID="userId",this.NAME="name"}login(r,i){return this._http.post(`${this.baseUrl}/api/auth`,{email:r,password:i}).pipe((0,_.b)(({ok:e,token:S,uid:g,name:a})=>{e?(localStorage.setItem(this.STORAGE_TOKEN,S),localStorage.setItem(this.USER_ID,g),localStorage.setItem(this.NAME,a)):localStorage.clear()}),(0,n.U)(e=>e.ok),(0,o.K)(e=>(0,l.of)(e.error)))}register(r,i,M,O,e){return this._http.post(`${this.baseUrl}/api/auth/new`,{name:r,email:i,password:M,rol:O,estado:e}).pipe((0,_.b)(({ok:a,token:A,uid:P})=>{a?(localStorage.setItem(this.STORAGE_TOKEN,A),localStorage.setItem(this.USER_ID,P),localStorage.setItem(this.NAME,r)):localStorage.clear()}),(0,n.U)(a=>a.ok),(0,o.K)(a=>(0,l.of)(a.error)))}isLoggedIn(){try{return!!localStorage.getItem("token")}catch(r){return!1}}}return s.\u0275fac=function(r){return new(r||s)(E.LFG(h.eN))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4466:(D,c,t)=>{t.d(c,{m:()=>n});var l=t(9808),u=t(3370),_=t(1223);let n=(()=>{class o{}return o.\u0275fac=function(h){return new(h||o)},o.\u0275mod=_.oAB({type:o}),o.\u0275inj=_.cJS({imports:[[l.ez,u.Bz]]}),o})()}}]);